## 生产环境配置示例（与 IronCore-V2 代码一致）
## 注意：示例中包含占位符，请替换为你自己的生产配置。

# ====================================
# 数据库配置
# ====================================
DATABASE_URL=postgres://postgres:YOUR_SECURE_PASSWORD@YOUR_FLY_POSTGRES_INTERNAL_HOST:5432/ironcore

# 连接池（对应 src/config.rs）
DB_MAX_CONNS=20
DB_MIN_CONNS=2
DB_ACQ_TIMEOUT_SECS=10
DB_IDLE_TIMEOUT_SECS=600

# ====================================
# Redis 配置
# ====================================
REDIS_URL=redis://production-redis.example.com:6379

# ====================================
# Immudb 审计配置（对应 main.rs：IMMU_*）
# ====================================
# 如果你没有部署 immudb，可以保持默认（会出现“verify failed, allowing by default”的告警日志）。
IMMU_ADDR=production-immudb.example.com:3322
IMMU_USER=immudb
IMMU_PASS=YOUR_IMMUDB_PASSWORD
IMMU_DB=defaultdb

# ====================================
# ====================================
# JWT 配置（生产环境必须修改！）
# ====================================
# 生成强密钥: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_RANDOM_32_BYTE_BASE64_STRING
TOKEN_EXPIRY=3600
REFRESH_TOKEN_EXPIRY=2592000

# ====================================
# 服务器配置
# ====================================
BIND_ADDR=0.0.0.0:8088
ALLOW_DEGRADED_START=0
FRONTEND_URL=https://YOUR_FRONTEND_DOMAIN

# ====================================
# 日志配置
# ====================================
RUST_LOG=info,ironforge_backend=debug
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/var/log/ironforge/backend.log
LOG_FILE_MAX_SIZE_MB=100
LOG_FILE_MAX_AGE_DAYS=30

# ====================================
# 监控配置
# ====================================
ENABLE_PROMETHEUS=1
PROMETHEUS_BIND_ADDR=0.0.0.0:9090
ENABLE_HEALTH_CHECK=1

# ====================================
# 区块链 RPC 端点（对应 src/config.rs）
# ====================================
# Ethereum
ETH_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# BSC
BSC_RPC_URL=https://bsc-dataseed1.binance.org

# Polygon
POLYGON_RPC_URL=https://polygon-rpc.com

# Solana
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com

# Bitcoin
BITCOIN_RPC_URL=https://blockstream.info/api

# TON
TON_RPC_URL=https://toncenter.com/api/v2/jsonRPC

# ====================================
# 跨链桥配置
# ====================================
# 桥接费率
BRIDGE_FEE_PERCENTAGE=0.003
TRANSACTION_FEE_PERCENTAGE=0.001

# ====================================
# Gas 估算配置（对应 src/service/gas_estimator.rs）
# ====================================

# Ethereum
GAS_PRIORITY_MULTIPLIER_ETH_SLOW=1.0
GAS_PRIORITY_MULTIPLIER_ETH_NORMAL=1.5
GAS_PRIORITY_MULTIPLIER_ETH_FAST=2.0
GAS_BASE_MULTIPLIER_ETH_SLOW=1.0
GAS_BASE_MULTIPLIER_ETH_NORMAL=1.2
GAS_BASE_MULTIPLIER_ETH_FAST=1.5
GAS_ESTIMATED_TIME_ETH_SLOW=600
GAS_ESTIMATED_TIME_ETH_NORMAL=180
GAS_ESTIMATED_TIME_ETH_FAST=60

# BSC
GAS_PRIORITY_MULTIPLIER_BSC_SLOW=0.8
GAS_PRIORITY_MULTIPLIER_BSC_NORMAL=1.2
GAS_PRIORITY_MULTIPLIER_BSC_FAST=1.8
GAS_BASE_MULTIPLIER_BSC_SLOW=1.0
GAS_BASE_MULTIPLIER_BSC_NORMAL=1.1
GAS_BASE_MULTIPLIER_BSC_FAST=1.3
GAS_ESTIMATED_TIME_BSC_SLOW=300
GAS_ESTIMATED_TIME_BSC_NORMAL=90
GAS_ESTIMATED_TIME_BSC_FAST=30

# Polygon
GAS_PRIORITY_MULTIPLIER_POLYGON_SLOW=1.0
GAS_PRIORITY_MULTIPLIER_POLYGON_NORMAL=1.5
GAS_PRIORITY_MULTIPLIER_POLYGON_FAST=2.5
GAS_BASE_MULTIPLIER_POLYGON_SLOW=1.0
GAS_BASE_MULTIPLIER_POLYGON_NORMAL=1.2
GAS_BASE_MULTIPLIER_POLYGON_FAST=1.5
GAS_ESTIMATED_TIME_POLYGON_SLOW=180
GAS_ESTIMATED_TIME_POLYGON_NORMAL=60
GAS_ESTIMATED_TIME_POLYGON_FAST=20

# ====================================
# 安全配置
# ====================================
# CORS 允许的源（生产环境限制）
CORS_ALLOW_ORIGINS=https://YOUR_FRONTEND_DOMAIN

# 说明：本项目中 1inch / CoinGecko / SMTP 等服务目前主要通过各自的 env 读取。
# 例如：ONEINCH_API_KEY / COINGECKO_API_KEY 等（按需配置）。
